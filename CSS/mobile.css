/* ==========================================
   MOBILE & RESPONSIVE STYLES
   ========================================== */

/* ===== MOBILE STYLES ===== */
@media (max-width: 768px) {
    
    /* Emergency Menu - Mobile */
    .emergency-menu {
        top: 15px !important;
        left: 15px !important;
        width: 52px !important;
        height: 52px !important;
        font-size: 20px !important;
    }

    /* Hero Section - Mobile */
    .centered-hero-section {
        padding: 15px 15px 25px 15px;
        gap: 14px;
        padding-top: max(15px, env(safe-area-inset-top) + 15px);
    }
    
    /* Mobile Fade States */
    .centered-hero-section.fade-out {
        max-height: 0;
        padding: 0;
        margin: 0;
        gap: 0;
    }
    
    .centered-hero-section.fade-in {
        padding: 15px 15px 25px 15px;
        padding-top: max(15px, env(safe-area-inset-top) + 15px);
        gap: 14px;
        max-height: 1000px;
    }
    
    /* Crown - Mobile */
    .crown-3d-hero {
        font-size: clamp(3.2rem, 9vw, 4.5rem);
        margin-bottom: 15px;
    }
    
    /* Title - Mobile */
    .king-title-hero {
        font-size: clamp(2.2rem, 8vw, 3.2rem);
        letter-spacing: 1px;
        line-height: 1.05;
    }

    /* Tagline - Mobile */
    .king-tagline-header {
        font-size: clamp(1.1rem, 4vw, 1.6rem);
        font-weight: 700;
        line-height: 1.2;
        margin-bottom: 10px;
    }
    
    /* Quote - Mobile */
    .king-quote-header {
        font-size: clamp(0.95rem, 3.2vw, 1.3rem);
        font-weight: 600;
        line-height: 1.25;
        padding: 0 8px;
        margin-bottom: 18px;
    }
    
    /* Connection Status - Mobile */
    .connection-status {
        font-size: 0.9rem;
        padding: 12px 18px;
        margin-bottom: 14px;
        max-width: 95vw;
    }
    
    /* Theme Toggle - Mobile */
    .theme-toggle {
        min-width: 48px;
        min-height: 48px;
        max-width: 56px;
        max-height: 56px;
        font-size: 1.4rem;
    }

    /* Input Section - Mobile */
    .royal-input-section {
        padding: 16px 12px;
        padding-bottom: calc(25px + env(safe-area-inset-bottom));
        gap: 12px;
    }
    
    /* Input Field - Mobile */
    .royal-input {
        min-height: 58px;
        padding: 18px 52px 18px 20px;
        font-size: 17px;
        border-radius: var(--radius-xl);
    }
    
    .royal-input::placeholder {
        font-size: 17px;
    }
    
    /* Send Button - Mobile */
    .royal-send-arrow {
        right: 12px;
        bottom: 12px;
        width: 34px;
        height: 34px;
        font-size: 15px;
    }
    
    /* Action Buttons - Mobile FIX */
    .action-buttons {
        display: flex;
        gap: 8px; /* Reduced gap */
        justify-content: center;
        align-items: center;
        flex-wrap: nowrap; /* Prevent wrapping */
    }
    
    .action-btn {
        padding: 10px 8px; /* Reduced padding */
        font-size: 0.75rem; /* Smaller text */
        min-height: var(--touch-target-min);
        border-radius: var(--radius-md);
        flex: 1; /* Equal width distribution */
        min-width: 0; /* Allow shrinking */
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    /* Shorter button text for mobile */
    .action-btn:nth-child(1)::after { content: "New"; }
    .action-btn:nth-child(1) .fa-plus + * { display: none; }
    
    .action-btn:nth-child(2)::after { content: "Export"; }
    .action-btn:nth-child(2) .fa-download + * { display: none; }
    
    .action-btn:nth-child(3)::after { content: "Clear"; }
    .action-btn:nth-child(3) .fa-trash + * { display: none; }

    /* Follow-up Questions - Mobile */
    .follow-up-questions {
        margin: 20px 0;
        padding: 16px;
        margin-bottom: 30px;
    }

    .follow-up-btn {
        padding: 16px;
        font-size: 0.9rem;
        min-height: 56px;
    }

    /* Chat Container - Mobile */
    .royal-chat-container {
        padding-bottom: 15px;
        padding-top: 20px;
    }

    .royal-chat-container.has-messages {
        padding-bottom: clamp(140px, 20vh, 180px);
        padding-top: 90px;
    }

    /* Typing Indicator - Mobile */
    .royal-typing {
        bottom: 120px;
        padding: 16px 12px;
        padding-bottom: calc(16px + env(safe-area-inset-bottom));
    }
    
    .royal-typing-content {
        min-height: 58px;
        padding: 18px 20px;
        border-radius: var(--radius-xl);
    }

    /* Messages - Mobile */
    .message-content {
        padding: 16px 20px;
        font-size: 0.95rem;
    }

    .message.user .message-content {
        max-width: 90%;
    }

    /* Error Messages - Mobile */
    .royal-error {
        padding: 14px 16px;
        font-size: 0.9rem;
    }
}

/* ===== LANDSCAPE MOBILE ===== */
@media (max-width: 768px) and (orientation: landscape) {
    
    /* Hero Section - Landscape */
    .centered-hero-section {
        padding: 10px 15px 15px 15px;
        gap: 8px;
    }
    
    /* Landscape Fade States */
    .centered-hero-section.fade-out {
        max-height: 0;
        padding: 0;
        margin: 0;
        gap: 0;
    }
    
    .centered-hero-section.fade-in {
        padding: 10px 15px 15px 15px;
        gap: 8px;
        max-height: 1000px;
    }
    
    /* Crown - Landscape */
    .crown-3d-hero {
        font-size: clamp(2.5rem, 6vw, 3.2rem);
        margin-bottom: 8px;
    }
    
    /* Title - Landscape */
    .king-title-hero {
        font-size: clamp(1.6rem, 5vw, 2.4rem);
        margin-bottom: 6px;
    }
    
    /* Tagline - Landscape */
    .king-tagline-header {
        font-size: clamp(0.9rem, 2.8vw, 1.2rem);
        margin-bottom: 4px;
    }
    
    /* Quote - Landscape */
    .king-quote-header {
        font-size: clamp(0.8rem, 2.2vw, 1rem);
        margin-bottom: 10px;
    }
    
    /* Connection Status - Landscape */
    .connection-status {
        padding: 8px 12px;
        font-size: 0.8rem;
        margin-bottom: 8px;
    }
    
    /* Theme Toggle - Landscape */
    .theme-toggle {
        min-width: var(--touch-target-min);
        min-height: var(--touch-target-min);
        font-size: 1.2rem;
    }

    /* Follow-up Questions - Landscape */
    .follow-up-questions {
        margin: 16px 0;
        padding: 12px;
        margin-bottom: 25px;
    }

    .follow-up-btn {
        padding: 12px 14px;
        min-height: var(--touch-target-preferred);
        font-size: 0.85rem;
    }

    /* Chat Container - Landscape */
    .royal-chat-container {
        padding-bottom: 10px;
        padding-top: 15px;
    }

    .royal-chat-container.has-messages {
        padding-bottom: clamp(100px, 18vh, 140px);
        padding-top: 80px;
    }

    /* Typing Indicator - Landscape */
    .royal-typing {
        bottom: 100px;
        padding: 14px 12px;
    }
    
    .royal-typing-content {
        min-height: 54px;
        padding: 16px 18px;
    }
}

/* ===== LARGE DESKTOP ===== */
@media (min-width: 1200px) {
    
    /* Main Container - Desktop */
    .main-container {
        max-width: 900px;
        padding: 40px 80px;
        padding-bottom: 60px;
    }
    
    /* Input Section - Desktop */
    .royal-input-section {
        max-width: 900px;
        padding: 28px 80px;
    }

    /* Follow-up Questions - Desktop */
    .follow-up-questions {
        margin-bottom: 25px;
    }

    /* Chat Container - Desktop */
    .royal-chat-container.has-messages {
        padding-bottom: clamp(120px, 15vh, 160px);
    }

    /* Typing Indicator - Desktop */
    .royal-typing {
        max-width: 900px;
        bottom: 160px;
        padding: 28px 80px;
    }
    
    .royal-typing-content {
        padding: 20px 24px;
    }
}

/* ===== TABLET STYLES ===== */
@media (min-width: 769px) and (max-width: 1024px) {
    
    /* Hero adjustments for tablet */
    .centered-hero-section {
        max-width: 700px;
        padding: 30px 40px;
    }

    /* Input section for tablets */
    .royal-input-section {
        padding: 24px 40px;
    }

    /* Action buttons for tablets */
    .action-btn {
        padding: 16px 24px;
        font-size: 1rem;
    }
}

/* ===== ULTRA-WIDE DESKTOP ===== */
@media (min-width: 1440px) {
    
    .main-container {
        max-width: 1000px;
    }
    
    .royal-input-section {
        max-width: 1000px;
    }
    
    .royal-typing {
        max-width: 1000px;
    }
}

/* ===== SMALL MOBILE ===== */
@media (max-width: 320px) {
    
    /* Emergency menu for very small screens */
    .emergency-menu {
        width: 48px !important;
        height: 48px !important;
        font-size: 18px !important;
    }

    /* Hero for small screens */
    .crown-3d-hero {
        font-size: 2.5rem;
    }
    
    .king-title-hero {
        font-size: 1.8rem;
    }

    /* Input adjustments */
    .royal-input {
        padding: 16px 48px 16px 18px;
        min-height: 54px;
    }

    .royal-send-arrow {
        width: 32px;
        height: 32px;
        font-size: 14px;
    }
}

/* ===== ACCESSIBILITY ENHANCEMENTS ===== */

/* Better focus indicators on mobile */
@media (max-width: 768px) {
    *:focus-visible {
        outline: 3px solid var(--king-gold);
        outline-offset: 3px;
    }
}

/* Touch-friendly hover states */
@media (hover: none) and (pointer: coarse) {
    .action-btn:hover,
    .follow-up-btn:hover,
    .theme-toggle:hover {
        transform: none;
    }
    
    .action-btn:active,
    .follow-up-btn:active {
        transform: scale(0.98);
    }
}
